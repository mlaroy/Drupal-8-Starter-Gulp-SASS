<!DOCTYPE html>
<html>
<head>
	<meta content="text/html; charset=utf-8" http-equiv="content-type">
	<meta content="en" http-equiv="content-language">

	<title>Paycase Style-Guide</title>
	<link href="public/kss.css" rel="stylesheet" type="text/css">
	<link href="/css/app.css" rel="stylesheet">
	<!--[if lt IE 9]>
		<script src="public/html5shiv.js"></script>
	<![endif]-->
	<script src="/js/modernizr.js"></script>
</head>

<body id="styleguide">
	{{#if overview}}
		<header class="styleguide-header styleguide-reset">

			<ul class="styleguide-screens" id="styleguide-screens" style="display: none;">
				<li><a href="#" class="screen-size" data-width="320px" data-height="640px"><span class="fa fa-mobile-phone fa-2x"></span></a></li>
				<li><a href="#" class="screen-size" data-width="768px" data-height="1024px"><span class="fa fa-tablet fa-2x"></span></a></li>
				<li><a href="#" class="screen-size" data-width="1280px" data-height="100%"><span class="fa fa-laptop fa-2x"></span></a></li>
				<li><a href="#" class="screen-size active" data-width="100%" data-height="100%"><span class="fa fa-desktop fa-2x"></span></a></li>
				<li><a href="#" class="rotate"><span class="fa fa-rotate-left fa-2x"></span></a></li>
			</ul>

			<div class="styleguide-container">
				<h1>Project Styleguide
  				<form class="kss-search">
    				<input type="search" id="keyword" autocomplete="off">
    				<ul id="results" class="results">
    				</ul>
    		  </form>
  		  </h1>
			</div>

		</header>

		<div class="styleguide-container">
			<nav class="styleguide-menu styleguide-reset">
				<ul class="styleguide-menu-list" data-kss-ref="{{rootNumber}}">
					<li>
						<a href="./">0. Overview</a>
					</li>

					<li style="list-style: none">{{#eachRoot}}</li>

					<li>
						<a href="section-{{reference}}.html" data-reference="{{reference}}" target="content-iframe">{{reference}}. {{header}}</a>
					</li>

		            <div class="styleguide-menu-child" id="child-section-{{reference}}">
			            <ul>
			              {{#eachSection reference}}
				              {{#whenDepth 1}}
				              {{else}}
				              		<li>
					              		<span class="kss-ref">{{reference}}</span>
					              		<span class="kss-name"><a href="section-{{../../reference}}.html#section-{{reference}}" target="content-iframe" data-target="#section-{{reference}}">{{header}}</a></span>
					              	</li>
				              {{/whenDepth}}
			              {{/eachSection}}
			            </ul>
		            </div>

					<li style="list-style: none">{{/eachRoot}}</li>
				</ul>
			</nav>

			<div class="overview-container open">
				<div class="styleguide-content">
					<div class="styleguide-markdown-body styleguide-reset">
						{{{overview}}}
					</div>
				</div>
			</div>

			<div class="iframe-container">

				<iframe src="section-1.html" border="0" name="content-iframe"></iframe>

			</div>
		</div>

		<script>
  		var data = [];
  		{{#eachRoot}}
    		{{#eachSection reference}}
 			    {{#if reference}}{{/if}}
    			{{#if markup}}
    			              {
            		        "ref": "{{reference}}",
          		          "header": "{{header}}"
          		          },
          {{else}}
          		data.push({
            		        "ref": "{{reference}}",
          		          "sections": [
          {{/if}}
        {{/eachSection}}
        null]});

  		{{/eachRoot}}

  		var explodeTags = function() {
    		var tags = [];
    		for(var i=0,l=searchTags.length;i<l;i++) {
      		searchTags[i];
    		}
  		}

 		</script>

	{{else}}
		{{#eachSection rootNumber}}
			{{#if markup}}
				<div class="styleguide-example" id="section-{{reference}}">
					<header class="styleguide-example-header styleguide-reset">
						<h3>{{reference}} <em>{{header}}</em></h3>
					</header>
					{{#if description}}
						<div class="styleguide-description styleguide-markdown-body styleguide-reset">
							{{{description}}}
							<ul class="styleguide-modifier">
								<li style="list-style: none">{{#eachModifier}}</li>
								<li><strong>{{name}}</strong> - {{{description}}}</li>
								<li style="list-style: none">{{/eachModifier}}</li>
							</ul>
						</div>
					{{/if}}

					<div class="styleguide-element">
						{{modifierMarkup}}
					</div>

					{{#eachModifier}}
						<div class="styleguide-element styleguide-modifier">
							<span class="styleguide-modifier-name">{{name}}</span> {{modifierMarkup}}
						</div>
					{{/eachModifier}}

					<div class="styleguide-html styleguide-reset read-more">
						<a class="read-more__header"><span></span> code</a>
						<div class="styleguide-html-highlight read-more__content">
<pre>
<code class="xml">{{markup}}</code>
</pre>
						</div>
					</div>
				</div>
			{{else}}

				<header class="example-header styleguide-reset">
					<h1>{{header}}</h1>
				</header>

				{{#if description}}
					<div class="markdown-body styleguide-reset">
						{{{description}}}
					</div>
				{{/if}}
			{{/if}}

		{{/eachSection}}
	{{/if}}

	<!--footer class="styleguide-footer styleguide-reset styleguide-container">
		<p>Created using <a href="https://github.com/hughsk/kss-node">kss-node</a>.</p>

		<p>Designed by <a href="https://github.com/">GitHub</a> , <a href="http://warpspire.com/">Kyle Neath</a>. Adjusted by <a href="http://enginedigital.com/">Engine Digital</a></p>
	</footer-->

	<script src="public/kss.js"></script> <script src="public/highlight.pack.js"></script>
	<script src="public/jquery-1.10.2.min.js"></script>
	<script src="public/styleguide.js"></script>

{{#if overview}}

<script>
  $(document).ready(function() {
    $('#keyword').on('keypress',function(e) {
//      e.preventDefault(;)

      var val = $(this).val().toLowerCase();
      var results = [];
      for(var i=0,l=data.length; i<l; i++) {
        if(data[i] !== null) {
          var root = data[i].ref.toLowerCase();
          var sections = data[i].sections;
          if(root.indexOf(val) >= 0) results.push({'value': root, 'reference': root, 'url': 'section-' + root + '.html'});
          console.log(sections);
          for(var y=0,yl=sections.length; y<yl; y++) {
            var section = data[i].sections[y];
            console.log(section);
            if(section !== null) {
              var sectionRef = section.ref.toLowerCase();
              if(sectionRef.indexOf(val) >= 0) results.push({'value': sectionRef, 'reference': data[i].ref, 'url': 'section-' + data[i].ref + '.html#section-'+sectionRef});

              var header = section.header.toLowerCase();
              if(header.indexOf(val) >= 0) results.push({'value': header, 'reference': sectionRef, 'url': 'section-' + data[i].ref + '.html#section-'+sectionRef});
            }
          }
        }
      }
      $('#results').empty();
      for(var i=0,l=results.length; i<l; i++) {
        $('#results').append('<li><a href="' + results[i].url + '" target="content-iframe" data-reference="' + results[i].reference + '">' + results[i].reference + ' - ' + results[i].value + '</a></li>');
      }
      if(results.length == 0) {
        $('#results').hide();
      } else {
        $('#results').show();
      }
//      console.log(results);
    })
    $('#keyword').on('mouseover',function() {
      $('#results').show();
    })
    $('.overview-container,.styleguide-menu,.iframe-container').on('mouseover',function() {
      $('#results').hide();
    })
  })
</script>
{{/if}}

</body>
</html>